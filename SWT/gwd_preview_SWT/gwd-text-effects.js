(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function n(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:n(a)}}function r(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var u=this||self;
function v(a,b){a=a.split(".");var c=u;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function w(a,b,c){return a+c*(b-a)};function x(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}x.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};x.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(x.BYTES_PER_ELEMENT=4,x.prototype.BYTES_PER_ELEMENT=4,x.prototype.set=x.prototype.set,x.prototype.toString=x.prototype.toString,v("Float32Array",x));function y(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}y.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};y.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{y.BYTES_PER_ELEMENT=8}catch(a){}y.prototype.BYTES_PER_ELEMENT=8;y.prototype.set=y.prototype.set;y.prototype.toString=y.prototype.toString;v("Float64Array",y)};function z(a,b){var c=new Float64Array(4);c[0]=0;c[1]=a;c[2]=b;c[3]=1;return c};function A(a){var b=new Float64Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];this.g=b}A.prototype.value=function(a){a=Math.min(Math.max(a,0),1);var b=w(this.g[0],this.g[1],a),c=w(this.g[1],this.g[2],a),d=w(this.g[2],this.g[3],a);b=w(b,c,a);c=w(c,d,a);return w(b,c,a)};
function B(a,b){for(var c=(b-a.g[0])/(a.g[3]-a.g[0]),d=0;8>d;d++){var e=a.value(c)-b;if(1E-8>Math.abs(e))return Math.min(Math.max(c,0),1);var f=c;f=Math.min(Math.max(f,0),1);var g=3*(a.g[1]-a.g[0]),h=3*(a.g[2]-a.g[1]),k=3*(a.g[3]-a.g[2]);g=w(g,h,f);h=w(h,k,f);c-=e/w(g,h,f)}if((d=a.g[0]<a.g[3])&&b<a.g[0]||!d&&b>a.g[0])return 0;if(d&&b>a.g[3]||!d&&b<a.g[3])return 1;e=0;f=1;for(g=0;28>g&&!(c=(e+f)/2,h=a.value(c),1E-8>Math.abs(h-b));g++)d&&h<b||!d&&h>b?e=c:f=c;return c};function C(a,b,c,d){this.g=new A(z(a,c));this.h=new A(z(b,d))};function D(a){this.g=1;this.h=null;this.g=Math.round(a)%2147483646;0>=this.g&&(this.g+=2147483646)}D.prototype.install=function(a){var b=this;this.h&&a!==this.h&&this.h&&(this.h.random=this.i,this.h=null);this.h||(this.h=a,this.i=a.random,a.random=function(){return b.random()})};D.prototype.random=function(){var a=Math.floor(this.g/44488);a=48271*(this.g-44488*a)-3399*a;this.g=0<a?a:a+2147483647;return(this.g-1)/2147483646};var E=new Set(["drop-in","line-up","spread"]),F=new Set(["flip","roll","spin"]);function G(a){var b=new Set;a=p(a);for(var c=a.next();!c.done;c=a.next())b.add(c.value);return b}var H=G("A ABBR B BDI BDO BUTTON CITE CODE DATA DFN EM I INPUT KBD LABEL MARK Q RP RT RUBY S SAMP SMALL SPAN STRONG SUB SUP TEXTAREA TIME U VAR".split(" ")),I=G("AREA BASE BR COL EMBED HR IMG INPUT LINK META PARAM SOURCE TRACK WBR".split(" ")),J=G(["BR","HR","P"]),K=/[\s]/;function L(a,b){this.state=a;this.name=b.tagName;a=[];for(var c=0;c<b.classList.length;c++)a.push(b.classList.item(c));this.g=a}
function M(a,b){a=p(a.g);for(var c=a.next();!c.done;c=a.next())b.classList.add(c.value)}function N(a,b){b=void 0===b?[]:b;a=p(a.childNodes);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.nodeType===Node.TEXT_NODE)b.push.apply(b,r(c.textContent.split("")));else if(c.nodeType===Node.ELEMENT_NODE){var d=I.has(c.tagName);b.push(new L(d?"self-closing":"open",c));d||(N(c,b),b.push(new L("close",c)))}return b}function O(a,b){this.h=a;this.i=b;this.m=[];this.u=[];this.s=[];this.D=new Map;P(this)}
function Q(a){var b=a.getAttribute("gwd-text-effect");if(!b)return null;if(b)try{var c=JSON.parse(b.replace(/&quot;/g,'"'))}catch(d){c=null}else c=null;b=c;if(!b||0===b.length)return null;b.sort(function(d,e){return d.startTimeMs-e.startTimeMs});for(c=1;c<b.length;c++)if(b[c-1].startTimeMs+b[c-1].durationMs-.1>b[c].startTimeMs)return null;return new O(a,b)}
function P(a){a.g=document.createElement("P"===a.h.tagName||H.has(a.h.tagName)?"SPAN":"DIV");aa(a);ba(a);a.h.textContent="";if(a.i.some(function(c){return"scroll"===c.name&&"vanishing-point"===c.parameters.scrollType})){var b=a.g.cloneNode(!1);b.appendChild(a.g);a.h.appendChild(b)}else a.h.appendChild(a.g)}
function aa(a){var b=G(a.i.map(function(h){return h.tokenType})),c=[];if(b.has("line")){var d=ca(a);d=R(d);var e=d.j;a.s=d.l;c.push.apply(c,r(e))}if(b.has("character"))for(d=S(a),c.push.apply(c,r(d.j)),d=p(d.l),e=d.next();!e.done;e=d.next()){e=e.value;var f=T(a,e),g=f.j;a.m.push.apply(a.m,r(f.l));e.textContent="";f=p(g);for(g=f.next();!g.done;g=f.next())e.appendChild(g.value);e.style.display="inline-block";e.style.whiteSpace="pre-wrap";e.setAttribute("do-not-clear-styles","")}b.has("word")&&(d=S(a),
e=d.j,a.u=d.l,c.push.apply(c,r(e)));if(b.has("text")){a.o=a.g.cloneNode(!1);b=p(a.h.childNodes);for(d=b.next();!d.done;d=b.next())a.o.appendChild(d.value.cloneNode(!0));c.push(a.o)}c=p(c);for(b=c.next();!b.done;b=c.next())a.g.appendChild(b.value)}
function T(a,b){function c(){for(var m=document.createElement(f),q=p(g),t=q.next();!t.done;t=q.next())m.classList.add(t.value);return m}var d=[],e=[],f=H.has(b.tagName)?b.tagName:"SPAN",g=[];if(b!==a.h)for(var h=0;h<b.classList.length;h++)g.push(b.classList.item(h));b=p(b.childNodes);for(h=b.next();!h.done;h=b.next())if(h=h.value,h.nodeType===Node.TEXT_NODE){h=p(h.textContent);for(var k=h.next();!k.done;k=h.next()){k=k.value;var l=c();l.textContent=k;e.push(l);d.push(l)}}else if(h.nodeType===Node.ELEMENT_NODE)if(I.has(h.tagName))d.push(document.createElement(h.tagName));
else{k=T(a,h);e.push.apply(e,r(k.l));h=c();k=p(k.j);for(l=k.next();!l.done;l=k.next())h.appendChild(l.value);d.push(h)}return{l:e,j:d}}function S(a){a=N(a.h);a=U(a);return R(a)}function V(a,b){for(var c=a.length-1;0<=c&&a[c].name;)c--;for(var d="",e=[],f=p(a.slice(0,c+1)),g=f.next();!g.done;g=f.next())g=g.value,g.name?(0<d.length&&(e.push(d),d=""),e.push(g)):d+=g;e.push(d);b.push(e);for(c+=1;c<a.length;c++)b.push([a[c]])}
function U(a){for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d],f=void 0,g=void 0;if((null==(g=(f=e).match)?0:g.call(f,K))||J.has(e.name)){c.push(e);for(f=e=void 0;d+1<a.length&&(a[d+1].name||(null==(f=(e=a[d+1]).match)?0:f.call(e,K)));)c.push(a[d+1]),d++;V(c,b);c=[]}else e.name&&"self-closing"!==e.state&&0===c.length?b.push([e]):c.push(e)}c.length&&V(c,b);return b}
function ca(a){var b=N(a.h);b=U(b);for(var c=R(b),d=a.g.cloneNode(!1),e=p(c.j),f=e.next();!f.done;f=e.next())d.appendChild(f.value);d.appendChild(document.createElement("BR"));a.h.insertBefore(d,a.h.childNodes[0]);e=Number.MIN_VALUE;f=[];for(var g=[],h=0,k=0;k<b.length;k++){var l=b[k];if(l[0].name)g.push(l[0]);else{var m=c.l[h];h+=1;m=m.getBoundingClientRect().left;var q=m<=e;e=m;q?(V(g,f),g=l):g.push.apply(g,r(l))}}g.length&&V(g,f);a.h.removeChild(d);return f}
function R(a){var b=[],c=[],d=[],e=null;a=p(a);for(var f=a.next();!f.done;f=a.next())if(f=f.value,1===f.length&&f[0].name){var g=f[0];"open"===g.state?(f=document.createElement(g.name),M(g,f),g=void 0,null==(g=e)||g.appendChild(f),e=f):"close"===g.state?b.length?b.pop():(e.parentElement||d.push(e),e=e.parentElement):"self-closing"===g.state&&(f=document.createElement(g.name),e?e.appendChild(f):d.push(f))}else{g=0;for(var h=[],k=p(f),l=k.next();!l.done;l=k.next())l=l.value,l.name&&("open"===l.state?
h.push(l):"close"===l.state&&(h.pop()||g++));for(;b.length>g;)l=b.shift(),k=document.createElement(l.name),M(l,k),l=void 0,null==(l=e)||l.appendChild(k),e=k;k=[];for(l=0;l<g;l++)0<b.length?k.push(b.shift()):(k.unshift(new L("open",e)),e.parentElement||d.push(e),e=e.parentElement);b=h;g=document.createElement("span");e?e.appendChild(g):d.push(g);c.push(g);f=p([].concat(r(k),r(f)));for(h=f.next();!h.done;h=f.next())h=h.value,h.name?"self-closing"===h.state?g.appendChild(document.createElement(h.name)):
"open"===h.state?(k=document.createElement(h.name),M(h,k),g.appendChild(k),g=k):g=g.parentElement:g.appendChild(document.createTextNode(h))}return{l:c,j:d}}
O.prototype.setCurrentTime=function(a){var b=da(this,a),c=Math.min(Math.max(a,b.startTimeMs),b.startTimeMs+b.durationMs);a=this.g.parentElement===this.h?this.g:this.g.parentElement;a=[a].concat(r(a.querySelectorAll("[style]:not([do-not-clear-styles])")));a=p(a);for(var d=a.next();!d.done;d=a.next())d.value.removeAttribute("style");a=b.tokenType;if("character"!==a){var e=p(this.m);for(d=e.next();!d.done;d=e.next())d.value.style.display="none"}if("word"!==a)for(e=p(this.u),d=e.next();!d.done;d=e.next())d.value.style.display=
"none";if("line"!==a)for(e=p(this.s),d=e.next();!d.done;d=e.next())d.value.style.display="none";"text"!==a&&this.o&&(this.o.style.display="none");a=[];"character"===b.tokenType?a=this.m:"word"===b.tokenType?a=this.u:"line"===b.tokenType?a=this.s:"text"===b.tokenType&&(a=[this.o]);d=this.D.get(b.id);c=(c-b.startTimeMs)/b.durationMs;var f=p(b.easingData.cubicBezierPoints);e=f.next().value;var g=f.next().value,h=f.next().value;f=f.next().value;e=new C(e,g,h,f);c=e.h.value(B(e.g,c))*b.durationMs+b.startTimeMs;
g=e=b.tokenGroups.value;"total-groups"===b.tokenGroups.type?e=Math.ceil(a.length/b.tokenGroups.value):g=Math.ceil(a.length/b.tokenGroups.value);g=b.durationMs/((1-b.overlap)*g+b.overlap);for(f=h=0;f<a.length;f++){Math.floor(f/e)>h&&h++;var k=g*h*(1-b.overlap);k=(Math.min(Math.max(c-b.startTimeMs,k),k+g)-k)/g;"out"===b.direction&&(k=1-k);var l=d?a[d[f]]:a[f];if("blur"===b.name){var m=b.parameters;l.style.opacity=String(w(m.opacity,1,k));l.style.filter="blur("+w(m.radius,0,k).toFixed(5)+"px)"}else if("gradient"===
b.name)m=b.parameters,l.style["-webkit-mask-image"]="linear-gradient("+m.angle+"deg, black, "+100*k+"%, rgba(0, 0, 0, "+m.opacity+")";else if(E.has(b.name)){m=b.parameters;var q="translate"+m.dimension+"("+(1-k)*m.initialTranslation+"px)";"drop-in"===b.name&&(q="perspective("+m.perspective+"px) "+q,this.g.style.display="inline-block");l.style.display="inline-block";l.style.whiteSpace="pre-wrap";l.style.opacity=String(w(m.opacity,1,k));l.style.transform=q}else if(F.has(b.name))m=b.parameters,l.style.transformOrigin=
m.transformOrigin,l.style.display="inline-block",l.style.whiteSpace="pre-wrap",l.style.opacity=String(w(m.opacity,1,k)),l.style.transform="rotate"+m.axis+"("+w(m.initialRotationDegrees,0,k)+"deg)",this.g.style.display="inline-block";else if("typewriter"===b.name)m=b.parameters,"linear"===m.easing?l.style.opacity=String(w(m.opacity,1,k)):"step"===m.easing&&(l.style.opacity=String(.999999>k?m.opacity:1));else if("zoom"===b.name)m=b.parameters,q=k*(2*(m.scale-100)+100),q>m.scale&&(q=2*m.scale-q),l.style.display=
"inline-block",l.style.whiteSpace="pre-wrap",l.style.opacity=String(w(m.opacity,1,k)),l.style.transform="scale("+q/100+")";else if("slide"===b.name){m=b.parameters;var t=0;q="";"bottom"===m.direction?(t=this.h.offsetHeight,q="Y"):"top"===m.direction?(t=-this.h.offsetHeight,q="Y"):"left"===m.direction?(t=-this.h.offsetWidth,q="X"):"right"===m.direction&&(t=this.h.offsetWidth,q="X");t=w(t,0,k);l.style.display="inline-block";l.style.whiteSpace="pre-wrap";l.style.opacity=String(w(m.opacity,1,k));l.style.transform=
"translate"+q+"("+t+"px)";this.g.style.overflow="hidden";this.g.style.display="inline-block"}else"scroll"===b.name&&(m=this.h.clientHeight,l.style.display="inline-block",l.style.transform="translateY("+w(m,-l.clientHeight,k)+"px)",this.g.style.height="100%",this.g.style.overflow="hidden",this.g.style.display="inline-block","vanishing-point"===b.parameters.scrollType&&(k=this.g.parentElement,k.style.height="100%",k.style.overflow="hidden",k.style.display="inline-block",k.style.perspective=this.h.clientHeight+
"px",this.g.style.transformOrigin="bottom",this.g.style.transform="rotateX(30deg) scale(1, 1.2)",this.g.style["-webkit-mask-image"]="linear-gradient(transparent 0%, black 45%)"))}};function da(a,b){if(b<a.i[0].startTimeMs)return a.i[0];for(var c=0;c<a.i.length;c++){var d=a.i[c].startTimeMs;if(b<d)return a.i[c-1];if(b<d+a.i[c].durationMs)return a.i[c]}return a.i[a.i.length-1]}
function ba(a){for(var b=p(a.i),c=b.next();!c.done;c=b.next()){var d=c.value,e=d.shuffleSeed;c=d.id;d=d.tokenType;if(!(0>=e)){var f=[];if("character"===d)f=a.m;else if("word"===d)f=a.u;else if("line"===d)f=a.s;else continue;d=f.map(function(k,l){return l});e=new D(e);for(f=d.length-1;0<=f;f--){var g=d[f],h=Math.floor((f+1)*e.random());d[f]=d[h];d[h]=g}a.D.set(c,d)}}};var W=new Map,X=null;function Y(a,b){var c=W.get(b),d=c.F;a=a-c.C+c.B;c=p(c.v);for(var e=c.next();!e.done;e=c.next())e.value.setCurrentTime(a);a<d&&(W.get(b).A=requestAnimationFrame(function(f){return Y(f,b)}))}
function Z(a,b,c){c=c.play;if(W.has(a.id))if(X&&cancelAnimationFrame(W.get(X).A),X=a.id,W.get(a.id).B=b,c)W.get(a.id).C=performance.now(),W.get(a.id).A=requestAnimationFrame(function(e){return Y(e,a.id)});else{c=p(W.get(a.id).v);for(var d=c.next();!d.done;d=c.next())d.value.setCurrentTime(b)}else console.log("Text effects cannot be played for page "+a.id+" because it was not initialized.")}
v("gwd.texteffects.initializeEffectsForPage",function(a){var b=[];if(W.has(a.id))b=W.get(a.id).v;else{var c=[].concat(r(a.querySelectorAll("[gwd-text-effect]"))),d=0;c=p(c);for(var e=c.next();!e.done;e=c.next())if(e=Q(e.value))b.push(e),e=e.i[e.i.length-1],d=Math.max(d,e.startTimeMs+e.durationMs);W.set(a.id,{F:d,v:b,B:0,C:-1,A:-1})}a=p(b);for(b=a.next();!b.done;b=a.next())b.value.setCurrentTime(0)});v("gwd.texteffects.playEffectsForPage",function(a){return Z(a,0,{play:!0})});
v("gwd.texteffects.goToAndPlay",function(a,b){return Z(a,b,{play:!0})});v("gwd.texteffects.goToAndPause",function(a,b){return Z(a,b,{play:!1})});}).call(this);
